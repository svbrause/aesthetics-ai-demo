"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[401],{6826:function(e,t,a){a.r(t),a.d(t,{ThemeProvider:function(){return r},useTheme:function(){return s}});var o=a(7437),i=a(2265);let n=(0,i.createContext)(void 0);function r(e){let{children:t}=e,[a,r]=(0,i.useState)("dark"),[s,l]=(0,i.useState)(()=>{{let e="true"===localStorage.getItem("hipaaMode");return e}});return(0,i.useEffect)(()=>{{let e="true"===localStorage.getItem("hipaaMode");e!==s&&l(e)}},[]),(0,i.useEffect)(()=>{document.documentElement.classList.remove("light","dark"),document.documentElement.classList.add("dark"),s?document.documentElement.classList.add("hipaa-mode"):document.documentElement.classList.remove("hipaa-mode"),localStorage.setItem("hipaaMode",s.toString()),console.log("Theme applied: dark (fixed)"),console.log("HTML classes:",document.documentElement.className)},[s]),(0,o.jsx)(n.Provider,{value:{theme:a,hipaaMode:s,toggleTheme:()=>{console.log("Theme toggle disabled - always dark mode")},toggleHipaaMode:()=>{l(e=>!e)}},children:t})}function s(){let e=(0,i.useContext)(n);if(void 0===e)throw Error("useTheme must be used within a ThemeProvider");return e}},2721:function(e,t,a){a.r(t),a.d(t,{TutorialProvider:function(){return l},useTutorial:function(){return d}});var o=a(7437),i=a(2265),n=a(4033);let r=(0,i.createContext)(void 0),s=[{id:"dashboard-welcome",title:"Welcome to Aesthetics AI",description:"Welcome to your provider dashboard! This is your command center for managing patients and conducting AI-powered aesthetic analyses. Let's explore the key features together.",target:"[data-tutorial='provider-dashboard']",position:"center",screen:"provider-dashboard",order:1},{id:"dashboard-recent-patients",title:"Recent Patients Overview",description:"Here you can see your most recent patients with their photos, analysis scores, and key information. Each card shows the patient's current status and last analysis date.",target:"[data-tutorial='patient-card']",position:"bottom",screen:"provider-dashboard",order:2},{id:"dashboard-patients-button",title:"View All Patients",description:"Click this 'View All' button to access your complete patient database. This will take you to a comprehensive list where you can search, filter, and manage all your patients.",target:"[data-tutorial='patients-button']",position:"right",screen:"provider-dashboard",order:3,navigateTo:"/provider/patients",autoNavigate:!0,waitForNavigation:!0},{id:"patients-page-welcome",title:"Patient Database",description:"Welcome to your complete patient database! Here you can see all your patients with their contact information, analysis scores, and current status. Use the search and filter options to quickly find specific patients.",target:"[data-tutorial='patient-list-header']",position:"center",screen:"patient-list",order:4},{id:"patient-list-header",title:"Patient Management",description:"This is your complete patient database. Here you can see all your patients with their contact information, analysis scores, and current status. Use the search and filter options to quickly find specific patients.",target:"[data-tutorial='patient-list-header']",position:"bottom",screen:"patient-list",order:5},{id:"patient-search",title:"Search & Filter Tools",description:"Use these tools to quickly find patients. Search by name or email, and filter by status (active, follow-up, inactive) to organize your patient list efficiently.",target:"[data-tutorial='patients-search']",position:"bottom",screen:"patient-list",order:6},{id:"patient-card",title:"Patient Information Cards",description:"Each patient card shows comprehensive information including photos, contact details, analysis scores, and findings count. Click on any card to view detailed patient information and analysis results.",target:"[data-tutorial='patient-card']",position:"right",screen:"patient-list",order:7,navigateTo:"/provider/patient/1001",autoNavigate:!0,waitForNavigation:!0},{id:"patient-detail-welcome",title:"Patient Detail View",description:"Welcome to the patient detail page! Here you can view comprehensive patient information, analysis results, and treatment plans. This is where you'll conduct detailed assessments and create treatment recommendations.",target:"[data-tutorial='patient-detail-container']",position:"center",screen:"patient-detail",order:8},{id:"patient-header",title:"Patient Detail View",description:"This is the detailed patient view where you can see comprehensive information about a specific patient. The header shows patient details and provides quick access to important actions.",target:"[data-tutorial='patient-header']",position:"bottom",screen:"patient-detail",order:9},{id:"patient-actions",title:"Quick Action Buttons",description:"These buttons allow you to take new scans, fill out questionnaires, and edit patient information without leaving the current screen. Each action is designed to streamline your workflow.",target:"[data-tutorial='patient-actions']",position:"bottom",screen:"patient-detail",order:10},{id:"patient-photo",title:"Patient Photos",description:"View the patient's front and side photos here. You can switch between views to see different angles. The photos are essential for analysis and treatment planning.",target:"[data-tutorial='patient-photos']",position:"right",screen:"patient-detail",order:11},{id:"patient-shortlist",title:"Key Findings Shortlist",description:"The shortlist shows the most important findings for this patient. These are the key areas that need attention and can be added to treatment plans or used for filtering treatments.",target:"[data-tutorial='patient-shortlist']",position:"right",screen:"patient-detail",order:12},{id:"tab-navigation",title:"Tab Navigation",description:"Use these tabs to switch between different views: Analysis (detailed findings), Treatments (available procedures), and Plan (treatment recommendations). Each tab provides different insights and tools.",target:"[data-tutorial='tab-navigation']",position:"bottom",screen:"patient-detail",order:13},{id:"analysis-areas",title:"Facial Analysis Areas",description:"This shows the facial areas analyzed by AI with their respective findings and severity scores. Click on areas to see detailed analysis and understand what treatments might be appropriate.",target:"[data-tutorial='analysis-areas']",position:"right",screen:"patient-detail",order:14},{id:"treatment-filters",title:"Treatment Filtering",description:"Use these filters to find the most relevant treatments for this patient. Filter by modality, area, price range, and other criteria to narrow down your options.",target:"[data-tutorial='treatment-filters']",position:"bottom",screen:"patient-detail",order:15},{id:"treatment-cards",title:"Available Treatments",description:"Browse through available treatments with before/after photos, pricing, duration, and downtime information. Add treatments to your plan based on the patient's specific needs.",target:"[data-tutorial='treatment-cards']",position:"right",screen:"patient-detail",order:16},{id:"treatment-plan",title:"Treatment Plan",description:"This is your customized treatment plan for this patient. Add treatments, set quantities, and organize them by priority. This plan can be exported to EMR systems or shared with the patient.",target:"[data-tutorial='treatment-plan']",position:"right",screen:"patient-detail",order:17},{id:"plan-actions",title:"Plan Management",description:"Export the treatment plan to EMR systems, download as PDF, or make modifications. These tools help you integrate the plan into your clinical workflow and share it with patients.",target:"[data-tutorial='plan-actions']",position:"top",screen:"patient-detail",order:18},{id:"dashboard-new-scan",title:"Start New Analysis",description:"Now let's try creating a new patient analysis. Click this button to upload photos and start the AI-powered assessment process. This will take you to the photo upload screen.",target:"[data-tutorial='new-scan-button']",position:"bottom",screen:"provider-dashboard",order:10,navigateTo:"/provider/upload",autoNavigate:!0,waitForNavigation:!0},{id:"upload-welcome",title:"Photo Upload & Analysis",description:"This is where you upload patient photos for AI analysis. The system will analyze facial features and provide detailed treatment recommendations based on the uploaded images.",target:"[data-tutorial='upload-interface']",position:"center",screen:"upload",order:10},{id:"upload-instructions",title:"Photo Guidelines",description:"Follow these guidelines for best analysis results. Ensure good lighting, proper angles, and clear visibility of facial features. The quality of photos directly impacts the accuracy of the analysis.",target:"[data-tutorial='upload-instructions']",position:"bottom",screen:"upload",order:10},{id:"upload-actions",title:"Upload Controls",description:"Use these controls to upload photos, start the analysis, or navigate back. The system will guide you through each step of the upload and analysis process.",target:"[data-tutorial='upload-actions']",position:"top",screen:"upload",order:10},{id:"results-welcome",title:"Analysis Results",description:"Here you can view the detailed AI analysis results for the uploaded photos. Review the findings, treatment recommendations, and save the patient data for future reference.",target:"[data-tutorial='results-interface']",position:"center",screen:"results",order:10},{id:"results-analysis",title:"Detailed Analysis",description:"Review the AI analysis findings for each facial area. Click on areas to see detailed information, severity scores, and specific treatment suggestions for each finding.",target:"[data-tutorial='results-analysis']",position:"top",screen:"results",order:10},{id:"results-actions",title:"Result Management",description:"Save the analysis as a draft, start a new scan, or return to the dashboard. These options help you manage your analysis workflow and ensure no data is lost.",target:"[data-tutorial='results-actions']",position:"bottom",screen:"results",order:10},{id:"analysis-tools-welcome",title:"Advanced Analysis Tools",description:"Access advanced analysis tools and features here. These tools enhance your patient analysis capabilities and provide additional insights for treatment planning.",target:"[data-tutorial='analysis-tools']",position:"center",screen:"analysis-tools",order:10},{id:"analysis-tools-features",title:"Tool Capabilities",description:"Explore different analysis tools and their specific capabilities. Each tool provides unique insights for patient assessment and helps you make more informed treatment decisions.",target:"[data-tutorial='analysis-tools-features']",position:"top",screen:"analysis-tools",order:10},{id:"tutorial-complete",title:"Tutorial Complete!",description:"Congratulations! You've completed the comprehensive tutorial. You now understand how to navigate the system, manage patients, conduct analyses, and create treatment plans. You're ready to start using Aesthetics AI effectively!",target:"[data-tutorial='provider-dashboard']",position:"center",screen:"provider-dashboard",order:10}];function l(e){let{children:t}=e,a=(0,n.useRouter)(),[l,d]=(0,i.useState)(!1),[c,u]=(0,i.useState)(0),[p,h]=(0,i.useState)(null),[g,m]=(0,i.useState)(!1),f=(0,i.useCallback)(()=>{let e=window.location.pathname;return"/provider"===e?"provider-dashboard":"/provider/patients"===e?"patient-list":e.startsWith("/provider/patient/")?"patient-detail":"/provider/upload"===e?"upload":"/provider/results"===e?"results":"/provider/analysis-tools"===e?"analysis-tools":null},[]);i.useEffect(()=>{console.log("\uD83D\uDD04 TutorialContext: Initializing from localStorage"),console.log("\uD83D\uDD04 Current URL:",window.location.href);let e=localStorage.getItem("tutorialState");if(e)try{let t=JSON.parse(e);if(console.log("\uD83D\uDD04 Saved tutorial state:",t),t.isActive){let e=v[t.currentStepIndex];if(e){let a=f();if(console.log("\uD83D\uDD04 Detected current screen:",a),console.log("\uD83D\uDD04 Expected screen for step:",e.screen),a&&e.screen!==a){console.log("⚠️ Screen mismatch detected, finding appropriate step for current screen");let e=v.find(e=>e.screen===a);if(e){let t=v.indexOf(e);console.log("✅ Found appropriate step for current screen:",{stepId:e.id,stepIndex:t,screen:a}),d(!0),u(t),h(a)}else console.log("❌ No steps found for current screen, clearing tutorial"),localStorage.removeItem("tutorialState")}else console.log("✅ Valid tutorial state, restoring:",{stepIndex:t.currentStepIndex,stepId:e.id,screen:t.currentScreen}),d(!0),u(t.currentStepIndex),h(t.currentScreen)}else console.log("❌ Invalid tutorial state detected, clearing..."),localStorage.removeItem("tutorialState")}else console.log("\uD83D\uDCDD Tutorial not active in saved state")}catch(e){console.error("❌ Error loading tutorial state:",e),localStorage.removeItem("tutorialState")}else console.log("\uD83D\uDCDD No saved tutorial state found")},[f]),i.useEffect(()=>{localStorage.setItem("tutorialState",JSON.stringify({isActive:l,currentStepIndex:c,currentScreen:p}))},[l,c,p]);let v=s.sort((e,t)=>e.order-t.order),y=l&&v[c]?v[c]:null;i.useEffect(()=>{console.log("Tutorial state changed:",{isActive:l,currentStepIndex:c,currentScreen:p,currentStep:(null==y?void 0:y.id)||"null",allStepsLength:v.length})},[l,c,p,y,v.length]),i.useEffect(()=>{if(l&&y){let e=f();if(e&&e!==p){console.log("\uD83D\uDD04 Screen changed during tutorial:",{from:p,to:e,currentStep:y.id});let t=v.find(t=>t.screen===e);if(t){let a=v.indexOf(t);console.log("✅ Switching to appropriate step for new screen:",{stepId:t.id,stepIndex:a,screen:e}),u(a),h(e)}}}},[l,y,p,f]),i.useEffect(()=>{l&&y&&console.log("Tutorial active on page load:",y.id)},[l,y]),l&&y&&console.log("Tutorial active:",{currentStep:y.id,currentStepIndex:c,currentScreen:p,totalSteps:v.length});let w=(0,i.useCallback)(e=>{d(!0),u(0),h("provider-dashboard")},[]),b=(0,i.useCallback)(()=>{if(console.log("=== NEXT STEP CALLED ==="),console.log("Current step index:",c),console.log("Total steps:",v.length),c<v.length-1){let e=c+1,t=v[e];console.log("Next step:",t),console.log("Next step navigateTo:",t.navigateTo),console.log("Next step autoNavigate:",t.autoNavigate),t.navigateTo&&t.autoNavigate?(console.log("\uD83D\uDE80 NAVIGATING TO:",t.navigateTo),m(!0),a.push(t.navigateTo),console.log("\uD83D\uDCCD Router.push called, waiting for navigation..."),setTimeout(()=>{console.log("⏰ Navigation timeout completed, updating state..."),console.log("Setting step index to:",e),console.log("Setting screen to:",t.screen),u(e),h(t.screen),m(!1),console.log("✅ Navigation state updated")},1e3)):(console.log("\uD83D\uDCDD No navigation needed, updating step directly"),u(e),h(t.screen))}else console.log("\uD83C\uDFC1 Tutorial complete!"),k()},[c,v.length,a]),T=(0,i.useCallback)(()=>{if(c>0){let e=c-1,t=v[e];t.navigateTo&&t.autoNavigate?(m(!0),u(e),h(t.screen),a.push(t.navigateTo),setTimeout(()=>{m(!1)},1500)):(u(e),h(t.screen))}},[c,a]),D=(0,i.useCallback)(()=>{d(!1),u(0),h(null),m(!1),localStorage.removeItem("tutorialState")},[]),S=(0,i.useCallback)(()=>{d(!1),u(0),h(null),m(!1),localStorage.removeItem("tutorialState"),console.log("Tutorial reset complete")},[]),k=(0,i.useCallback)(()=>{d(!1),u(0),h(null),m(!1),localStorage.removeItem("tutorialState")},[]),C=(0,i.useCallback)(e=>{let t=v.findIndex(t=>t.id===e);if(-1!==t){let e=v[t];e.navigateTo?(m(!0),u(t),h(e.screen),a.push(e.navigateTo),setTimeout(()=>{m(!1)},1500)):(u(t),h(e.screen))}},[a]),E=(0,i.useCallback)(e=>{let t=v.find(t=>t.id===e);return!!t&&t.screen===p},[p]);return(0,o.jsx)(r.Provider,{value:{isActive:l,currentStep:y,currentStepIndex:c,steps:v,startTutorial:w,nextStep:b,previousStep:T,skipTutorial:D,completeTutorial:k,isStepVisible:E,navigateToStep:C,isNavigating:g,resetTutorial:S},children:t})}function d(){let e=(0,i.useContext)(r);if(void 0===e)throw Error("useTutorial must be used within a TutorialProvider");return e}},345:function(e,t,a){a.d(t,{bJ:function(){return l},cn:function(){return i},sS:function(){return s},zn:function(){return r}});var o=a(7042);function i(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,o.W)(t)}function n(){let e=document.documentElement;e.style.setProperty("--app-height","".concat(window.innerHeight,"px"))}function r(){n(),window.addEventListener("resize",n),window.addEventListener("orientationchange",()=>{setTimeout(n,100)})}function s(e){if(0===e)return"0 Bytes";let t=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,t)).toFixed(2))+" "+["Bytes","KB","MB","GB"][t]}function l(e){return new Promise((t,a)=>{let o=new FileReader;o.onload=e=>{var a;return t(null===(a=e.target)||void 0===a?void 0:a.result)},o.onerror=a,o.readAsDataURL(e)})}}}]);