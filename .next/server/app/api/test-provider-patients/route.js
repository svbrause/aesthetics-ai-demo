"use strict";(()=>{var e={};e.id=191,e.ids=[191],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6030:(e,r,t)=>{t.r(r),t.d(r,{headerHooks:()=>D,originalPathname:()=>m,patchFetch:()=>f,requestAsyncStorage:()=>p,routeModule:()=>d,serverHooks:()=>v,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>h});var s={};t.r(s),t.d(s,{GET:()=>l,dynamic:()=>u});var o=t(884),a=t(6132),i=t(1040),n=t(5798);let u="force-dynamic";async function l(e){try{let r=new URL(e.url),t=r.searchParams.get("providerCode");if(!t)return n.Z.json({error:"Provider code is required"},{status:400});let s=process.env.AIRTABLE_API_KEY,o="appXblSpAMBQskgzB";console.log("\uD83D\uDD0D TEST: Testing provider code:",t);let a=await fetch(`https://api.airtable.com/v0/${o}/Providers`,{headers:{Authorization:`Bearer ${s}`}});if(!a.ok){let e=await a.text();return n.Z.json({error:`Providers API error: ${a.status}`,details:e},{status:a.status})}let i=await a.json();console.log("\uD83D\uDD0D TEST: All providers:",JSON.stringify(i,null,2));let u=[`https://api.airtable.com/v0/${o}/Patients?maxRecords=3`,`https://api.airtable.com/v0/${o}/Patients?filterByFormula={Code (from Providers)}='${t}'`,`https://api.airtable.com/v0/${o}/Patients?filterByFormula={Provider}='${t}'`],l=[];for(let e of u){console.log("\uD83D\uDD0D TEST: Testing URL:",e);let r=await fetch(e,{headers:{Authorization:`Bearer ${s}`}});if(r.ok){let t=await r.json();l.push({url:e,status:r.status,recordCount:t.records.length,sampleRecord:t.records[0]||null,allFields:t.records[0]?Object.keys(t.records[0].fields||{}):[]}),console.log("\uD83D\uDD0D TEST: Response for",e,":",t.records.length,"records")}else{let t=await r.text();l.push({url:e,status:r.status,error:t}),console.log("\uD83D\uDD0D TEST: Error for",e,":",r.status,t)}}return n.Z.json({success:!0,providerCode:t,providers:i.records,testResults:l})}catch(e){return console.error("Error in test:",e),n.Z.json({error:"Test failed",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/test-provider-patients/route",pathname:"/api/test-provider-patients",filename:"route",bundlePath:"app/api/test-provider-patients/route"},resolvedPagePath:"/Users/sambrause/Downloads/aesthetics-ai-demo REVERTED/src/app/api/test-provider-patients/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:p,staticGenerationAsyncStorage:c,serverHooks:v,headerHooks:D,staticGenerationBailout:h}=d,m="/api/test-provider-patients/route";function f(){return(0,i.patchFetch)({serverHooks:v,staticGenerationAsyncStorage:c})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[271,107],()=>t(6030));module.exports=s})();