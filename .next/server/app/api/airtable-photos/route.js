"use strict";(()=>{var e={};e.id=511,e.ids=[511],e.modules={517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},885:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>f,originalPathname:()=>A,patchFetch:()=>b,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>h,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>m});var a={};r.r(a),r.d(a,{GET:()=>p,dynamic:()=>u});var s=r(884),o=r(6132),i=r(1040),n=r(5798);let u="force-dynamic";async function p(e){try{let e=process.env.AIRTABLE_API_KEY;if(!e)return n.Z.json({error:"Airtable API key not configured"},{status:500});let t=await fetch("https://api.airtable.com/v0/appXblSpAMBQskgzB/Photos",{headers:{Authorization:`Bearer ${e}`}});if(!t.ok){let e=await t.text();return n.Z.json({error:`Airtable API error: ${t.status}`,details:e},{status:t.status})}let r=await t.json(),a=await fetch("https://api.airtable.com/v0/appXblSpAMBQskgzB/Issues",{headers:{Authorization:`Bearer ${e}`}});if(!a.ok){let e=await a.text();return n.Z.json({error:`Airtable Issues API error: ${a.status}`,details:e},{status:a.status})}let s=await a.json(),o=s.records.reduce((e,t)=>(e[t.id]=t.fields.Name,e),{}),i=r.records.map(e=>({...e,fields:{...e.fields,Issues:e.fields.Issues?.map(e=>o[e]||e)||[]}}));return n.Z.json({...r,records:i})}catch(e){return console.error("Error fetching Airtable photos:",e),n.Z.json({error:"Failed to fetch photos",details:e instanceof Error?e.message:"Unknown error"},{status:500})}}let l=new s.AppRouteRouteModule({definition:{kind:o.x.APP_ROUTE,page:"/api/airtable-photos/route",pathname:"/api/airtable-photos",filename:"route",bundlePath:"app/api/airtable-photos/route"},resolvedPagePath:"/Users/sambrause/Downloads/aesthetics-ai-demo REVERTED/src/app/api/airtable-photos/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:d,staticGenerationAsyncStorage:c,serverHooks:h,headerHooks:f,staticGenerationBailout:m}=l,A="/api/airtable-photos/route";function b(){return(0,i.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:c})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[271,107],()=>r(885));module.exports=a})();