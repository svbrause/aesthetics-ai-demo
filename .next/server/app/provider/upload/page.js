(()=>{var e={};e.id=54,e.ids=[54],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},9327:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>h,tree:()=>c});var s=a(7096),r=a(6132),i=a(7284),n=a.n(i),o=a(2564),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);a.d(t,l);let c=["",{children:["provider",{children:["upload",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,3524)),"/Users/sambrause/Downloads/aesthetics-ai-demo REVERTED/src/app/provider/upload/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(a.bind(a,3100)),"/Users/sambrause/Downloads/aesthetics-ai-demo REVERTED/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(a.bind(a,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/sambrause/Downloads/aesthetics-ai-demo REVERTED/src/app/provider/upload/page.tsx"],p="/provider/upload/page",u={require:a,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/provider/upload/page",pathname:"/provider/upload",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7453:(e,t,a)=>{Promise.resolve().then(a.bind(a,7999))},2323:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(3708);let r=(0,s.Z)("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]])},8046:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(3708);let r=(0,s.Z)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},6802:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(3708);let r=(0,s.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},9560:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(3708);let r=(0,s.Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},785:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(3708);let r=(0,s.Z)("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]])},2427:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(3708);let r=(0,s.Z)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]])},4920:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});var s=a(3708);let r=(0,s.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},7999:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>A});var s=a(3854),r=a(4218),i=a.n(r),n=a(2209),o=a(6874),l=a(8046),c=a(4920),d=a(3708);let p=(0,d.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var u=a(785),h=a(6802),m=a(8711),f=a(6817),y=a(8504);class g{constructor(){this.baseURL="https://ponce--my-training-app-predict-endpoint.modal.run"}async analyzeWithBase64(e,t,a=.5){try{console.log("Attempting Modal API call with base64 data...");let s=e.split(",")[1],r=t.split(",")[1],i=await fetch(this.baseURL,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({front_b64:s,side_b64:r,threshold:a})});if(!i.ok){let e=await i.text();throw console.log("Base64 approach failed, trying file path approach:",e),Error(`Modal API failed: ${i.status} - ${e}`)}let n=await i.json();return console.log("Modal API base64 result:",n),n}catch(e){throw console.log("Base64 approach failed, trying file path approach:",e),e}}async analyzeWithPaths(e,t,a=.5){try{console.log("Attempting Modal API call with file paths..."),console.log("Front path:",e),console.log("Side path:",t);let s=`${this.baseURL}?front_path=${encodeURIComponent(e)}&side_path=${encodeURIComponent(t)}&threshold=${a}`,r=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"}});if(console.log("Modal API response status:",r.status),!r.ok){let e=await r.text();throw Error(`Modal API failed: ${r.status} - ${e}`)}let i=await r.json();return console.log("Modal API file path result:",i),i}catch(e){throw console.error("File path approach failed:",e),e}}generateMockResponse(e,t){console.log("Generating mock response for demo purposes...");let a=["Nasolabial Folds","Under Eye Hollow","Dark Spots","Crow's Feet Wrinkles","Marionette Lines","Jowls","Neck Lines","Temporal Hollow","Prejowl Sulcus","Forehead Wrinkles"],s={},r=[];return a.forEach((e,t)=>{let a=.4*Math.random()+.3;s[e]=a,a>.5&&r.push([e,a])}),r.sort((e,t)=>t[1]-e[1]),{success:!0,predictions:a.slice(0,5),probabilities:s,top_predictions:r.slice(0,5),threshold:.5,total_labels:81,front_path:`uploaded_${e.name}`,side_path:`uploaded_${t.name}`,timestamp:Math.floor(Date.now()/1e3)}}}let x=new g;var w=a(8640);let b=process.env.NEXT_PUBLIC_MODAL_API_URL||"https://ponce--my-training-app-predict-endpoint.modal.run";async function v(e,t){try{console.log("Starting photo analysis..."),console.log("Modal API URL:",b);let a=await k(e),s=await k(t);console.log("Calling Modal API...");try{console.log("Attempting Modal API with base64 data...");let e=await x.analyzeWithBase64(a,s,.5);return console.log("Modal API base64 result:",e),{analysis:N(e),rawResponse:e}}catch(a){console.log("Base64 approach failed, trying file path approach:",a);try{console.log("Attempting to upload images to Modal volume...");let e={front_path:"training_images/0_front.jpg",side_path:"training_images/0_side.jpg"};console.log("Using training image paths:",e);let t=await x.analyzeWithPaths(e.front_path,e.side_path,.5);return console.log("Modal API file path result:",t),{analysis:N(t),rawResponse:t}}catch(s){console.log("File path approach failed, using mock response:",s);let a=x.generateMockResponse(e,t);return await new Promise(e=>setTimeout(e,2e3)),console.log("Using mock Modal API result:",a),{analysis:N(a),rawResponse:a}}}}catch(e){return console.error("Modal analysis error:",e),console.log("Falling back to mock analysis for demo purposes"),{analysis:{issues:[{name:"Nasolabial Folds",severity:"moderate",confidence:78,description:"Lines running from nose to mouth corners",area:"facial-structure"},{name:"Under Eye Hollow",severity:"severe",confidence:85,description:"Volume loss creating shadows under the eyes",area:"facial-structure"},{name:"Dark Spots",severity:"mild",confidence:65,description:"Hyperpigmentation and age spots visible on the skin",area:"skin-quality"}],overallScore:76,recommendations:["Consider dermal fillers for volume restoration","Professional skincare routine recommended","Botox may help with muscle-related concerns"],areas:{"facial-structure":[{name:"Nasolabial Folds",severity:"moderate",confidence:78,description:"Lines running from nose to mouth corners",area:"facial-structure"},{name:"Under Eye Hollow",severity:"severe",confidence:85,description:"Volume loss creating shadows under the eyes",area:"facial-structure"}],"skin-quality":[{name:"Dark Spots",severity:"mild",confidence:65,description:"Hyperpigmentation and age spots visible on the skin",area:"skin-quality"}]}},error:e instanceof Error?e.message:String(e)}}}function k(e){return new Promise((t,a)=>{let s=new FileReader;s.readAsDataURL(e),s.onload=()=>t(s.result),s.onerror=e=>a(e)})}function N(e){let t=[],a={};console.log("Processing Modal API response:",e),e.success&&e.top_predictions&&Array.isArray(e.top_predictions)?e.top_predictions.forEach(([e,s])=>{let r=j(s),i=(0,w.wR)(e),n=(0,w.Kn)(s),o=(0,w.R$)(n),l={name:e,severity:r,confidence:n,description:E(e),area:i,gradeLetter:o};t.push(l),a[i]||(a[i]=[]),a[i].push(l)}):e.success&&e.probabilities&&"object"==typeof e.probabilities?Object.entries(e.probabilities).forEach(([e,s])=>{if(s>.3){let r=j(s),i=(0,w.wR)(e),n=(0,w.Kn)(s),o=(0,w.R$)(n),l={name:e,severity:r,confidence:n,description:E(e),area:i,gradeLetter:o};t.push(l),a[i]||(a[i]=[]),a[i].push(l)}}):e.error?console.error("Modal API returned error:",e.error):console.warn("Unexpected Modal API response format:",e);let s=t.length>0?Math.round(t.reduce((e,t)=>e+t.confidence,0)/t.length):95;return{issues:t,overallScore:s,recommendations:function(e){let t=[],a=e.filter(e=>"facial-structure"===e.area),s=e.filter(e=>"skin-quality"===e.area);return a.length>0&&(t.push("Consider dermal fillers for volume restoration"),t.push("Botox may help with muscle-related concerns")),s.length>0&&(t.push("Professional skincare routine recommended"),t.push("Consider laser treatments for pigmentation")),e.some(e=>e.name.includes("Nasal"))&&t.push("Rhinoplasty consultation may be beneficial"),t}(t),areas:a}}function j(e){return e<.4?"mild":e<.7?"moderate":"severe"}function E(e){return({"Dark Spots":"Hyperpigmentation and age spots visible on the skin","Dry Lips":"Dehydrated and chapped lips","Forehead Wrinkles":"Horizontal lines across the forehead","Crow's Feet Wrinkles":"Fine lines around the eyes","Under Eye Wrinkles":"Fine lines under the eyes",Blackheads:"Clogged pores with oxidized sebum",Whiteheads:"Closed comedones with trapped sebum","Red Spots":"Inflammatory skin lesions or acne marks",Scars:"Visible scarring from previous injuries or acne","Crepey Skin":"Thin, wrinkled skin with crepe-like texture","Dry Skin":"Dehydrated skin lacking moisture",Oily:"Excessive sebum production","Under Eye Dark Circles":"Dark discoloration under the eyes","Perioral Wrinkles":"Fine lines around the mouth area","Bunny Lines":"Horizontal lines across the nose bridge","Glabella Wrinkles":"Vertical lines between the eyebrows","Nasolabial Folds":"Lines running from nose to mouth corners","Under Eye Hollow":"Volume loss creating shadows under the eyes","Temporal Hollow":"Volume loss in the temple area","Prejowl Sulcus":"Depression before the jowl area","Masseter Hypertrophy":"Overdeveloped jaw muscles creating square appearance","Dorsal Hump":"Bump on the nasal bridge","Nasal Bone - Too Wide":"Wide nasal bone structure","Nasal Tip Too Wide":"Wide nasal tip","Nasal Tip Too Narrow":"Narrow nasal tip","Over-Projected":"Nose projects too far from the face","Under-Projected":"Nose projects too little from the face","Over-Rotated":"Nose tip rotated too far upward","Under-Rotated":"Nose tip rotated too far downward","Asymmetric Chin":"Chin asymmetry affecting facial balance","Asymmetric Lips":"Lip asymmetry affecting facial harmony","Asymmetric Jawline":"Jawline asymmetry affecting facial symmetry","Neck Lines":"Horizontal lines across the neck","Marionette Lines":"Lines from mouth corners downward",Jowls:"Sagging skin along the jawline","Excess/Submental Fullness":"Excess fat under the chin","Retruded Chin":"Recessed chin affecting profile","Over-Projected Chin":"Chin projects too far forward","Thin Lips":"Insufficient lip volume","Brow Asymmetry":"Uneven brow positioning","Brow Ptosis":"Drooping eyebrows","Lower Eyelid Sag":"Drooping lower eyelid skin","Lower Eyelid Bags":"Puffiness or bags under the eyes","Lower Eyelid - Excess Skin":"Excess skin in the lower eyelid area","Mid Cheek Flattening":"Loss of cheek volume and definition","Cheekbone - Not Prominent":"Lack of cheekbone definition","Heavy Lateral Cheek":"Excessive fullness in the lateral cheek area","Lower Cheeks - Over-Filled":"Excessive volume in the lower cheek area","Lower Cheeks - Volume Depletion":"Loss of volume in the lower cheek area","Ill-Defined Jawline":"Lack of clear jawline definition","Narrow Jawline":"Narrow jawline structure","Wide Jawline":"Wide jawline structure","Wide Chin":"Wide chin structure","Crooked Nose":"Nose deviation from centerline","Droopy Tip":"Nose tip pointing downward","Tip Droop When Smiling":"Nose tip droops when smiling","Nostril Base - Too Wide":"Wide nostril base","Negative Canthal Tilt":"Downward slant of the eye corners","Flat Forehead":"Lack of forehead projection","Excess Upper Eyelid Skin":"Excess skin in the upper eyelid area","Upper Eyelid Droop":"Drooping upper eyelid","Upper Eye Hollow":"Volume loss in the upper eye area","Loose Neck Skin":"Sagging skin in the neck area","Platysmal Bands":"Vertical bands in the neck muscles","Lacking Philtral Column":"Shallow philtrum (space between nose and lips)","Long Philtral Column":"Long philtrum (space between nose and lips)","Lip Thinning When Smiling":"Lips appear thinner when smiling","Gummy Smile":"Excessive gum exposure when smiling"})[e]||"Aesthetic concern requiring attention"}var P=a(2323),C=a(9560),R=a(2427);function L({frontPhoto:e,sidePhoto:t,onCancel:a}){let[r,o]=i().useState(null),[c,d]=i().useState(null);return i().useEffect(()=>{if(e){let t=URL.createObjectURL(e);o(t)}if(t){let e=URL.createObjectURL(t);d(e)}return()=>{r&&URL.revokeObjectURL(r),c&&URL.revokeObjectURL(c)}},[e,t,r,c]),s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center p-4",children:s.jsx(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-4xl",children:(0,s.jsxs)(f.Zb,{className:"p-8 bg-gray-800/50 border-gray-700 backdrop-blur-sm",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx(n.E.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"inline-flex items-center justify-center w-16 h-16 bg-blue-600 rounded-full mb-4",children:s.jsx(P.Z,{className:"w-8 h-8 text-white"})}),s.jsx(n.E.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.3},className:"text-4xl font-bold text-white mb-4",children:"AI Analysis in Progress"}),s.jsx(n.E.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.5},className:"text-gray-300 text-lg",children:"Our AI is analyzing your photos to identify aesthetic concerns"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold text-white flex items-center",children:[s.jsx(l.Z,{className:"w-5 h-5 mr-2"}),"Front Photo"]}),(0,s.jsxs)("div",{className:"relative",children:[r?s.jsx("img",{src:r,alt:"Front preview",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-600"}):s.jsx("div",{className:"w-full h-48 bg-gray-700 rounded-lg border-2 border-gray-600 flex items-center justify-center",children:s.jsx(l.Z,{className:"w-12 h-12 text-gray-400"})}),s.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-lg flex items-center justify-center",children:s.jsx(n.E.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:s.jsx(C.Z,{className:"w-8 h-8 text-blue-400"})})})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold text-white flex items-center",children:[s.jsx(l.Z,{className:"w-5 h-5 mr-2"}),"Side Photo"]}),(0,s.jsxs)("div",{className:"relative",children:[c?s.jsx("img",{src:c,alt:"Side preview",className:"w-full h-48 object-cover rounded-lg border-2 border-gray-600"}):s.jsx("div",{className:"w-full h-48 bg-gray-700 rounded-lg border-2 border-gray-600 flex items-center justify-center",children:s.jsx(l.Z,{className:"w-12 h-12 text-gray-400"})}),s.jsx("div",{className:"absolute inset-0 bg-black/20 rounded-lg flex items-center justify-center",children:s.jsx(n.E.div,{animate:{rotate:360},transition:{duration:2,repeat:1/0,ease:"linear"},children:s.jsx(C.Z,{className:"w-8 h-8 text-blue-400"})})})]})]})]}),(0,s.jsxs)("div",{className:"space-y-4 mb-8",children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[s.jsx(R.Z,{className:"w-5 h-5 mr-2"}),"Analysis Steps"]}),s.jsx("div",{className:"space-y-3",children:["Processing image data...","Running AI facial analysis...","Identifying aesthetic concerns...","Calculating severity scores...","Generating recommendations..."].map((e,t)=>(0,s.jsxs)(n.E.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.8+.2*t},className:"flex items-center space-x-3",children:[s.jsx(n.E.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0,delay:.5*t},className:"w-2 h-2 bg-blue-400 rounded-full"}),s.jsx("span",{className:"text-gray-300",children:e})]},e))})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsxs)("div",{className:"flex justify-between text-sm text-gray-400 mb-2",children:[s.jsx("span",{children:"Analysis Progress"}),s.jsx("span",{children:"Please wait..."})]}),s.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2",children:s.jsx(n.E.div,{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full",initial:{width:"0%"},animate:{width:"100%"},transition:{duration:8,ease:"easeInOut"}})})]}),a&&s.jsx("div",{className:"text-center",children:s.jsx("button",{onClick:a,className:"px-6 py-2 text-gray-400 hover:text-white transition-colors",children:"Cancel Analysis"})})]})})})}function S({onAnalysisComplete:e,onBack:t}){let[a,i]=(0,r.useState)(null),[d,g]=(0,r.useState)(null),[x,w]=(0,r.useState)(null),[b,k]=(0,r.useState)(null),[N,j]=(0,r.useState)(!1),[E,P]=(0,r.useState)(null),C=(0,r.useCallback)((e,t)=>{e.preventDefault(),e.stopPropagation(),"dragenter"===e.type||"dragover"===e.type?P(t):"dragleave"===e.type&&P(null)},[]),R=(0,r.useCallback)(async(e,t)=>{e.preventDefault(),e.stopPropagation(),P(null),e.dataTransfer.files&&e.dataTransfer.files[0]&&await S(e.dataTransfer.files[0],t)},[]),S=async(e,t)=>{if(!e.type.startsWith("image/")){alert("Please select a valid image file.");return}try{let a=await (0,y.bJ)(e);"front"===t?(i(e),w(a)):(g(e),k(a))}catch(e){console.error("Error processing file:",e)}},D=async(e,t)=>{e.target.files&&e.target.files[0]&&await S(e.target.files[0],t)},A=e=>{"front"===e?(i(null),w(null)):(g(null),k(null))},M=async()=>{if(!a||!d){alert("Please upload both front and side photos.");return}j(!0);try{let t=await v(a,d);await e(t,a,d)}catch(e){console.error("Analysis error:",e),alert("Analysis failed. Please try again.")}finally{j(!1)}},T=a&&d&&!N;return N?s.jsx(L,{frontPhoto:a,sidePhoto:d,onCancel:()=>j(!1)}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black flex items-center justify-center p-4",children:s.jsx(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-4xl",children:(0,s.jsxs)(f.Zb,{className:"p-8 bg-gray-800/50 border-gray-700 backdrop-blur-sm",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx(n.E.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-4xl font-bold text-white mb-4",children:"AI Photo Analysis"}),s.jsx("p",{className:"text-gray-300 text-lg",children:"Upload front and side photos for comprehensive AI analysis"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 mb-8",children:[(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold text-white flex items-center",children:[s.jsx(l.Z,{className:"w-5 h-5 mr-2"}),"Front Photo"]}),(0,s.jsxs)("div",{className:`relative border-2 border-dashed rounded-xl p-8 transition-all duration-300 ${"front"===E?"border-blue-500 bg-blue-500/10 scale-105":"border-gray-600 hover:border-gray-500"}`,onDragEnter:e=>C(e,"front"),onDragLeave:e=>C(e,"front"),onDragOver:e=>C(e,"front"),onDrop:e=>R(e,"front"),children:[s.jsx("input",{type:"file",accept:"image/*",onChange:e=>D(e,"front"),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:N}),s.jsx(o.M,{mode:"wait",children:x?(0,s.jsxs)(n.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"relative",children:[s.jsx("img",{src:x,alt:"Front preview",className:"w-full h-48 object-cover rounded-lg"}),s.jsx(m.z,{variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:()=>A("front"),disabled:N,children:s.jsx(c.Z,{className:"h-4 w-4"})}),a&&(0,s.jsxs)("div",{className:"mt-2 text-sm text-gray-400",children:[a.name," (",(0,y.sS)(a.size),")"]})]},"front-preview"):(0,s.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center",children:[s.jsx(p,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-300 mb-2",children:"Drop front photo here"}),s.jsx("p",{className:"text-sm text-gray-500",children:"or click to browse"})]},"front-upload")})]})]}),(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("h3",{className:"text-xl font-semibold text-white flex items-center",children:[s.jsx(u.Z,{className:"w-5 h-5 mr-2"}),"Side Photo"]}),(0,s.jsxs)("div",{className:`relative border-2 border-dashed rounded-xl p-8 transition-all duration-300 ${"side"===E?"border-blue-500 bg-blue-500/10 scale-105":"border-gray-600 hover:border-gray-500"}`,onDragEnter:e=>C(e,"side"),onDragLeave:e=>C(e,"side"),onDragOver:e=>C(e,"side"),onDrop:e=>R(e,"side"),children:[s.jsx("input",{type:"file",accept:"image/*",onChange:e=>D(e,"side"),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",disabled:N}),s.jsx(o.M,{mode:"wait",children:b?(0,s.jsxs)(n.E.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},className:"relative",children:[s.jsx("img",{src:b,alt:"Side preview",className:"w-full h-48 object-cover rounded-lg"}),s.jsx(m.z,{variant:"destructive",size:"icon",className:"absolute top-2 right-2",onClick:()=>A("side"),disabled:N,children:s.jsx(c.Z,{className:"h-4 w-4"})}),d&&(0,s.jsxs)("div",{className:"mt-2 text-sm text-gray-400",children:[d.name," (",(0,y.sS)(d.size),")"]})]},"side-preview"):(0,s.jsxs)(n.E.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"text-center",children:[s.jsx(p,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-300 mb-2",children:"Drop side photo here"}),s.jsx("p",{className:"text-sm text-gray-500",children:"or click to browse"})]},"side-upload")})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-center gap-4",children:[s.jsx(m.z,{variant:"ghost",onClick:t,disabled:N,className:"px-8",children:"Back"}),s.jsx(m.z,{onClick:M,disabled:!T,className:"px-8 bg-blue-600 hover:bg-blue-700",children:N?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Analyzing..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(h.Z,{className:"w-4 h-4 mr-2"}),"Start Analysis"]})})]})]})})})}var D=a(1018);function A(){let e=(0,D.useRouter)(),t=async(t,s,r)=>{localStorage.setItem("analysisResult",JSON.stringify(t));try{let e=await a(s),t=await a(r);localStorage.setItem("frontPhoto",e),localStorage.setItem("sidePhoto",t)}catch(e){console.error("Error converting photos to base64:",e)}e.push("/provider/results")},a=e=>new Promise((t,a)=>{let s=new FileReader;s.readAsDataURL(e),s.onload=()=>t(s.result),s.onerror=e=>a(e)});return s.jsx(S,{onAnalysisComplete:t,onBack:()=>{e.push("/provider")}})}},8711:(e,t,a)=>{"use strict";a.d(t,{z:()=>c});var s=a(3854),r=a(4218),i=a(8225),n=a(2457),o=a(8504);let l=(0,n.j)("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-white text-black hover:bg-gray-100 hover:scale-105 shadow-lg",primary:"bg-blue-600 text-white hover:bg-blue-700 hover:scale-105 shadow-lg",secondary:"bg-gray-800 text-white hover:bg-gray-700 hover:scale-105",ghost:"hover:bg-gray-100 hover:text-gray-900",destructive:"bg-red-600 text-white hover:bg-red-700"},size:{default:"h-12 px-8 py-3",sm:"h-9 rounded-md px-3",lg:"h-14 rounded-full px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=r.forwardRef(({className:e,variant:t,size:a,asChild:r=!1,...n},c)=>{let d=r?i.g7:"button";return s.jsx(d,{className:(0,o.cn)(l({variant:t,size:a,className:e})),ref:c,...n})});c.displayName="Button"},6817:(e,t,a)=>{"use strict";a.d(t,{Zb:()=>n});var s=a(3854),r=a(4218),i=a(8504);let n=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,i.cn)("rounded-2xl border border-gray-800 bg-gray-900/50 backdrop-blur-sm text-white shadow-xl",e),...t}));n.displayName="Card";let o=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,i.cn)("flex flex-col space-y-1.5 p-6",e),...t}));o.displayName="CardHeader";let l=r.forwardRef(({className:e,...t},a)=>s.jsx("h3",{ref:a,className:(0,i.cn)("text-2xl font-semibold leading-none tracking-tight",e),...t}));l.displayName="CardTitle";let c=r.forwardRef(({className:e,...t},a)=>s.jsx("p",{ref:a,className:(0,i.cn)("text-sm text-gray-400",e),...t}));c.displayName="CardDescription";let d=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,i.cn)("p-6 pt-0",e),...t}));d.displayName="CardContent";let p=r.forwardRef(({className:e,...t},a)=>s.jsx("div",{ref:a,className:(0,i.cn)("flex items-center p-6 pt-0",e),...t}));p.displayName="CardFooter"},8640:(e,t,a)=>{"use strict";a.d(t,{Kn:()=>n,R$:()=>o,Uz:()=>l,hv:()=>i,qt:()=>c,wR:()=>r});let s={"Forehead Wrinkles":"Skin","Crow's Feet Wrinkles":"Skin","Glabella Wrinkles":"Skin","Under Eye Wrinkles":"Skin","Perioral Wrinkles":"Skin","Bunny Lines":"Skin","Neck Lines":"Skin","Dark Spots":"Skin","Red Spots":"Skin",Scars:"Skin","Dry Skin":"Skin",Whiteheads:"Skin",Blackheads:"Skin","Under Eye Dark Circles":"Eyes","Crepey Skin":"Skin","Rosacea [DEPRECATED]":"Skin","Nasolabial Folds":"Skin","Marionette Lines":"Skin","Temporal Hollow":"Forehead","Brow Asymmetry":"Forehead","Flat Forehead":"Forehead","Brow Ptosis":"Forehead","Excess Upper Eyelid Skin":"Eyes","Lower Eyelid - Excess Skin":"Eyes","Upper Eyelid Droop":"Eyes","Lower Eyelid Sag":"Eyes","Lower Eyelid Bags":"Eyes","Under Eye Hollow":"Eyes","Upper Eye Hollow":"Eyes","Mid Cheek Flattening":"Cheeks","Cheekbone - Not Prominent":"Cheeks","Heavy Lateral Cheek":"Cheeks","Crooked Nose":"Nose","Droopy Tip":"Nose","Dorsal Hump":"Nose","Tip Droop When Smiling":"Nose","Thin Lips":"Lips","Lacking Philtral Column":"Lips","Long Philtral Column":"Lips","Gummy Smile":"Lips","Asymmetric Lips":"Lips","Dry Lips":"Lips","Lip Thinning When Smiling":"Lips","Retruded Chin":"Jawline","Over-Projected Chin":"Jawline","Asymmetric Chin":"Jawline",Jowls:"Jawline","Lower Cheeks - Volume Depletion":"Jawline","Ill-Defined Jawline":"Jawline","Asymmetric Jawline":"Jawline","Masseter Hypertrophy":"Jawline","Prejowl Sulcus":"Jawline","Loose Neck Skin":"Jawline","Platysmal Bands":"Jawline","Excess/Submental Fullness":"Jawline","Over-Projected":"Nose","Over-Rotated":"Nose","Under-Projected":"Nose","Under-Rotated":"Nose","Nasal Bone - Too Wide":"Nose","Nasal Tip Too Wide":"Nose","Nasal Tip Too Narrow":"Nose","Nostril Base - Too Wide":"Nose","Negative Canthal Tilt":"Eyes","Wide Chin":"Jawline","Wide Jawline":"Jawline","Narrow Jawline":"Jawline",Oily:"Skin","Acne [DEPRECATED]":"Skin","Alar Hang [DEPRECATED]":"Nose","Alar Retraction [DEPRECATED]":"Nose","Asymmetric Nostril Base [DEPRECATED]":"Nose","Cheilosis [DEPRECATED]":"Lips","Columellar Hang [DEPRECATED]":"Nose","Columellar Retraction [DEPRECATED]":"Nose","Deep Labiomental Groove [DEPRECATED]":"Lips","Deep Radix [DEPRECATED]":"Nose","Shallow Labiomental Groove [DEPRECATED]":"Lips","Shallow Radix [DEPRECATED]":"Nose","Obtuse Cervicomental Angle [DEPRECATED]":"Jawline"};function r(e){return s[e]||"Other"}function i(){let e=new Set(Object.values(s));return Array.from(e).sort()}function n(e){return Math.round(95-35*Math.max(0,Math.min(1,e)))}function o(e){return e>=90?"A":e>=80?"B":e>=70?"C":e>=60?"D":"F"}function l(e){return e>=90?"text-green-400":e>=80?"text-blue-400":e>=70?"text-yellow-400":e>=60?"text-orange-400":"text-red-400"}function c(e){return e>=90?"bg-green-400/20":e>=80?"bg-blue-400/20":e>=70?"bg-yellow-400/20":e>=60?"bg-orange-400/20":"bg-red-400/20"}},3524:(e,t,a)=>{"use strict";a.r(t),a.d(t,{$$typeof:()=>n,__esModule:()=>i,default:()=>l});var s=a(5153);let r=(0,s.createProxy)(String.raw`/Users/sambrause/Downloads/aesthetics-ai-demo REVERTED/src/app/provider/upload/page.tsx`),{__esModule:i,$$typeof:n}=r,o=r.default,l=o},3881:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(8531);let r=e=>{let t=(0,s.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:t+""}]}},6874:(e,t,a)=>{"use strict";a.d(t,{M:()=>y});var s=a(4218),r=a(1038);function i(){let e=(0,s.useRef)(!1);return(0,r.L)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var n=a(4999),o=a(7125),l=a(7724);class c extends s.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=this.props.sizeRef.current;e.height=t.offsetHeight||0,e.width=t.offsetWidth||0,e.top=t.offsetTop,e.left=t.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function d({children:e,isPresent:t}){let a=(0,s.useId)(),r=(0,s.useRef)(null),i=(0,s.useRef)({width:0,height:0,top:0,left:0});return(0,s.useInsertionEffect)(()=>{let{width:e,height:s,top:n,left:o}=i.current;if(t||!r.current||!e||!s)return;r.current.dataset.motionPopId=a;let l=document.createElement("style");return document.head.appendChild(l),l.sheet&&l.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${e}px !important;
            height: ${s}px !important;
            top: ${n}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(l)}},[t]),s.createElement(c,{isPresent:t,childRef:r,sizeRef:i},s.cloneElement(e,{ref:r}))}let p=({children:e,initial:t,isPresent:a,onExitComplete:r,custom:i,presenceAffectsLayout:n,mode:c})=>{let p=(0,l.h)(u),h=(0,s.useId)(),m=(0,s.useMemo)(()=>({id:h,initial:t,isPresent:a,custom:i,onExitComplete:e=>{for(let t of(p.set(e,!0),p.values()))if(!t)return;r&&r()},register:e=>(p.set(e,!1),()=>p.delete(e))}),n?void 0:[a]);return(0,s.useMemo)(()=>{p.forEach((e,t)=>p.set(t,!1))},[a]),s.useEffect(()=>{a||p.size||!r||r()},[a]),"popLayout"===c&&(e=s.createElement(d,{isPresent:a},e)),s.createElement(o.O.Provider,{value:m},e)};function u(){return new Map}var h=a(3669),m=a(7939);let f=e=>e.key||"",y=({children:e,custom:t,initial:a=!0,onExitComplete:o,exitBeforeEnter:l,presenceAffectsLayout:c=!0,mode:d="sync"})=>{var u;(0,m.k)(!l,"Replace exitBeforeEnter with mode='wait'");let y=(0,s.useContext)(h.p).forceRender||function(){let e=i(),[t,a]=(0,s.useState)(0),r=(0,s.useCallback)(()=>{e.current&&a(t+1)},[t]),o=(0,s.useCallback)(()=>n.Wi.postRender(r),[r]);return[o,t]}()[0],g=i(),x=function(e){let t=[];return s.Children.forEach(e,e=>{(0,s.isValidElement)(e)&&t.push(e)}),t}(e),w=x,b=(0,s.useRef)(new Map).current,v=(0,s.useRef)(w),k=(0,s.useRef)(new Map).current,N=(0,s.useRef)(!0);if((0,r.L)(()=>{N.current=!1,function(e,t){e.forEach(e=>{let a=f(e);t.set(a,e)})}(x,k),v.current=w}),u=()=>{N.current=!0,k.clear(),b.clear()},(0,s.useEffect)(()=>()=>u(),[]),N.current)return s.createElement(s.Fragment,null,w.map(e=>s.createElement(p,{key:f(e),isPresent:!0,initial:!!a&&void 0,presenceAffectsLayout:c,mode:d},e)));w=[...w];let j=v.current.map(f),E=x.map(f),P=j.length;for(let e=0;e<P;e++){let t=j[e];-1!==E.indexOf(t)||b.has(t)||b.set(t,void 0)}return"wait"===d&&b.size&&(w=[]),b.forEach((e,a)=>{if(-1!==E.indexOf(a))return;let r=k.get(a);if(!r)return;let i=j.indexOf(a),n=e;n||(n=s.createElement(p,{key:f(r),isPresent:!1,onExitComplete:()=>{b.delete(a);let e=Array.from(k.keys()).filter(e=>!E.includes(e));if(e.forEach(e=>k.delete(e)),v.current=x.filter(t=>{let s=f(t);return s===a||e.includes(s)}),!b.size){if(!1===g.current)return;y(),o&&o()}},custom:t,presenceAffectsLayout:c,mode:d},r),b.set(a,n)),w.splice(i,0,n)}),w=w.map(e=>{let t=e.key;return b.has(t)?e:s.createElement(p,{key:f(e),isPresent:!0,presenceAffectsLayout:c,mode:d},e)}),s.createElement(s.Fragment,null,b.size?w:w.map(e=>(0,s.cloneElement)(e)))}}};var t=require("../../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[271,10,323,942,969],()=>a(9327));module.exports=s})();