(()=>{var e={};e.id=173,e.ids=[173],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1017:e=>{"use strict";e.exports=require("path")},7310:e=>{"use strict";e.exports=require("url")},3426:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>c,routeModule:()=>h,tree:()=>d});var r=t(7096),a=t(6132),l=t(7284),i=t.n(l),n=t(2564),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let d=["",{children:["provider",{children:["results",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,339)),"/Users/sambrause/Downloads/aesthetics-ai-demo REVERTED/src/app/provider/results/page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,3100)),"/Users/sambrause/Downloads/aesthetics-ai-demo REVERTED/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,3881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["/Users/sambrause/Downloads/aesthetics-ai-demo REVERTED/src/app/provider/results/page.tsx"],m="/provider/results/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/provider/results/page",pathname:"/provider/results",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4657:(e,s,t)=>{Promise.resolve().then(t.bind(t,3848))},4897:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(3708);let a=(0,r.Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]])},2882:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(3708);let a=(0,r.Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},6504:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(3708);let a=(0,r.Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},6699:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(3708);let a=(0,r.Z)("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]])},4842:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(3708);let a=(0,r.Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6802:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(3708);let a=(0,r.Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},2095:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(3708);let a=(0,r.Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},3092:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(3708);let a=(0,r.Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},4920:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});var r=t(3708);let a=(0,r.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},3848:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>C});var r=t(3854),a=t(4218),l=t.n(a),i=t(2209),n=t(6817),o=t(8711),d=t(3708);let c=(0,d.Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);var m=t(4842);let x=(0,d.Z)("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);function h({response:e,error:s,onClose:t}){let[a,i]=l().useState(!1),d=async()=>{try{await navigator.clipboard.writeText(JSON.stringify(e,null,2)),i(!0),setTimeout(()=>i(!1),2e3)}catch(e){console.error("Failed to copy:",e)}};return r.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:r.jsx(n.Zb,{className:"w-full max-w-4xl max-h-[80vh] overflow-hidden bg-gray-800 border-gray-700",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-2xl font-bold text-white",children:"Modal API Debug Response"}),r.jsx(o.z,{variant:"ghost",size:"icon",onClick:t,className:"text-gray-400 hover:text-white",children:r.jsx(c,{className:"w-5 h-5"})})]}),s?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-red-400",children:[r.jsx(c,{className:"w-5 h-5"}),r.jsx("span",{className:"font-semibold",children:"API Error:"})]}),r.jsx("div",{className:"bg-red-900/20 border border-red-500 rounded-lg p-4",children:r.jsx("pre",{className:"text-red-300 text-sm whitespace-pre-wrap",children:s})})]}):(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-2 text-green-400",children:[r.jsx(m.Z,{className:"w-5 h-5"}),r.jsx("span",{className:"font-semibold",children:"API Response Received"})]}),r.jsx(o.z,{onClick:d,variant:"secondary",size:"sm",className:"text-gray-300 border-gray-600 hover:border-gray-500",children:a?(0,r.jsxs)(r.Fragment,{children:[r.jsx(m.Z,{className:"w-4 h-4 mr-2"}),"Copied!"]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(x,{className:"w-4 h-4 mr-2"}),"Copy JSON"]})})]}),r.jsx("div",{className:"bg-gray-900/50 border border-gray-600 rounded-lg p-4 max-h-96 overflow-auto",children:r.jsx("pre",{className:"text-gray-300 text-sm whitespace-pre-wrap",children:JSON.stringify(e,null,2)})}),e&&(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-white",children:"Response Summary:"}),e.model_path&&(0,r.jsxs)("div",{className:"text-sm text-gray-300",children:[r.jsx("span",{className:"font-medium",children:"Model:"})," ",e.model_path]}),e.threshold&&(0,r.jsxs)("div",{className:"text-sm text-gray-300",children:[r.jsx("span",{className:"font-medium",children:"Threshold:"})," ",e.threshold]}),e.labels_on&&Array.isArray(e.labels_on)&&(0,r.jsxs)("div",{className:"text-sm text-gray-300",children:[(0,r.jsxs)("span",{className:"font-medium",children:["Detected Issues (",e.labels_on.length,"):"]}),r.jsx("ul",{className:"mt-2 space-y-1",children:e.labels_on.map(([e,s],t)=>(0,r.jsxs)("li",{className:"ml-4",children:["â€¢ ",e,": ",(100*s).toFixed(1),"%"]},t))})]}),e.all_scores&&(0,r.jsxs)("div",{className:"text-sm text-gray-300",children:[r.jsx("span",{className:"font-medium",children:"All Scores:"})," ",Object.keys(e.all_scores).length," total labels analyzed"]})]})]}),r.jsx("div",{className:"mt-6 flex justify-end",children:r.jsx(o.z,{onClick:t,className:"px-6",children:"Close"})})]})})})}var g=t(8640),u=t(5463),p=t(2882),y=t(6699),f=t(6802),b=t(4920),v=t(2095),j=t(3092);let N=(0,d.Z)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);var w=t(6504),k=t(4897);function E({analysis:e,frontPhoto:s,sidePhoto:t,rawModalResponse:d,modalError:c,onBack:m,onViewDetails:x,onSaveDraft:E}){let[S,C]=(0,a.useState)("all"),[D,R]=(0,a.useState)(0),[A,P]=(0,a.useState)(!1),[L,Z]=(0,a.useState)(!1),[z,T]=(0,a.useState)(!0),[M,F]=(0,a.useState)(!1),[U,_]=(0,a.useState)(""),[J,O]=(0,a.useState)(""),[$,q]=(0,a.useState)(!1),W=(e,s)=>(0,u.aW)(e),[H,B]=(0,a.useState)(null),[I,V]=(0,a.useState)(null);l().useEffect(()=>{if(s){let e=URL.createObjectURL(s);B(e)}if(t){let e=URL.createObjectURL(t);V(e)}return()=>{H&&URL.revokeObjectURL(H),I&&URL.revokeObjectURL(I)}},[s,t,H,I]);let G=l().useMemo(()=>{let e=[];return H&&e.push({src:H,label:"Front View",timestamp:new Date().toLocaleDateString()}),I&&e.push({src:I,label:"Side View",timestamp:new Date().toLocaleDateString()}),0===e.length&&e.push({src:"/Sydney Adams Front.png",label:"Reference Front",timestamp:"2024-01-15"},{src:"/Sydney Adams Side.png",label:"Reference Side",timestamp:"2024-01-15"}),e},[H,I]),X=(0,g.hv)(),K=e=>Math.round(Math.min(100,Math.max(60,20*Math.pow(e/100,.7)+65))),Q=X.reduce((s,t)=>{let r=e.issues.filter(e=>e.area===t);if(r.length>0){let e=r.reduce((e,s)=>e+s.confidence,0)/r.length;s[t]=K(e)}else s[t]=100;return s},{}),Y=l().useMemo(()=>{if(0===e.issues.length)return 100;let s=e.issues.reduce((e,s)=>e+s.confidence,0)/e.issues.length;return K(s)},[e.issues]),ee=l().useMemo(()=>{let s=e.issues;return L||(s=s.filter(e=>{let s=(95-e.confidence)/35;return s>.5})),"all"!==S&&(s=s.filter(e=>e.area===S)),s},[e.issues,L,S]),es=async()=>{if(!U.trim()){alert("Please enter a patient name before saving the draft.");return}q(!0);try{E&&(await E(U.trim(),e),T(!1))}catch(e){console.error("Error saving draft:",e),alert("Failed to save draft. Please try again.")}finally{q(!1)}};return(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-black via-gray-900 to-black p-4",children:[(0,r.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,r.jsxs)(i.E.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)(o.z,{variant:"ghost",onClick:m,className:"flex items-center gap-2 text-gray-400 hover:text-white hover:bg-gray-800/50 px-3 py-2 rounded-md transition-all duration-200",children:[r.jsx(p.Z,{className:"w-4 h-4"}),"Back to Dashboard"]}),(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[r.jsx(y.Z,{className:"w-4 h-4"}),"Analysis completed: ",new Date().toLocaleDateString()]}),(d||c)&&r.jsx(o.z,{onClick:()=>P(!0),variant:"secondary",size:"sm",className:"text-blue-400 border-blue-400 hover:bg-blue-400/10",children:"Debug API Response"})]})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("h1",{className:"text-4xl font-bold text-white",children:"AI Analysis Results"}),z&&(0,r.jsxs)("div",{className:"flex items-center gap-2 px-3 py-1 bg-orange-500/20 border border-orange-500/50 rounded-full",children:[r.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full animate-pulse"}),r.jsx("span",{className:"text-orange-300 text-sm font-medium",children:"Draft"})]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-gray-400 text-sm",children:"Patient Name:"}),M?(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"text",value:J,onChange:e=>O(e.target.value),className:"px-3 py-1 bg-gray-700 border border-gray-600 rounded text-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Enter patient name",autoFocus:!0}),(0,r.jsxs)(o.z,{size:"sm",onClick:()=>{_(J),F(!1)},className:"bg-green-600 hover:bg-green-700 text-white px-3 py-1 rounded-md border border-green-500 hover:shadow-lg transition-all duration-200",children:[r.jsx(f.Z,{className:"w-4 h-4 mr-1"}),"Save"]}),(0,r.jsxs)(o.z,{size:"sm",onClick:()=>{O(U),F(!1)},className:"bg-red-600 hover:bg-red-700 text-white px-3 py-1 rounded-md border border-red-500 hover:shadow-lg transition-all duration-200",children:[r.jsx(b.Z,{className:"w-4 h-4 mr-1"}),"Cancel"]})]}):(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"text-white font-medium",children:U||"Unnamed Patient"}),(0,r.jsxs)(o.z,{size:"sm",onClick:()=>{O(U),F(!0)},className:"bg-gradient-to-r from-gray-800 to-gray-900 hover:from-gray-700 hover:to-gray-800 text-white px-3 py-1 rounded-md border border-gray-600 hover:shadow-lg transition-all duration-200",children:[r.jsx(v.Z,{className:"w-4 h-4 mr-1"}),"Edit"]})]})]})]}),(0,r.jsxs)("p",{className:"text-gray-300 text-lg",children:["Comprehensive facial analysis with ",e.issues.length," ","findings identified"]})]}),z&&E&&r.jsx("div",{className:"flex justify-end mb-6",children:(0,r.jsxs)(o.z,{onClick:es,disabled:$||!U.trim(),className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white hover:from-blue-700 hover:to-purple-700 disabled:opacity-50 disabled:cursor-not-allowed",children:[r.jsx(j.Z,{className:"w-4 h-4 mr-2"}),$?"Saving...":"Save Draft"]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,r.jsxs)("div",{className:"space-y-6",children:[(0,r.jsxs)(n.Zb,{className:"p-6 bg-gray-800/50 border-gray-700",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[r.jsx(N,{className:"w-5 h-5 mr-2"}),"Patient Photos"]}),(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("div",{className:"relative h-64 bg-gray-700/30 rounded-lg overflow-hidden",children:[r.jsx("img",{src:G[D].src,alt:G[D].label,className:"w-full h-full object-cover"}),r.jsx(o.z,{variant:"ghost",size:"icon",className:"absolute left-2 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70",onClick:()=>R(e=>e>0?e-1:G.length-1),children:r.jsx(p.Z,{className:"w-4 h-4"})}),r.jsx(o.z,{variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-black/50 hover:bg-black/70",onClick:()=>R(e=>e<G.length-1?e+1:0),children:r.jsx(w.Z,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"mt-2 text-center",children:[r.jsx("p",{className:"text-sm text-gray-300",children:G[D].label}),r.jsx("p",{className:"text-xs text-gray-500",children:G[D].timestamp})]})]}),r.jsx("div",{className:"flex justify-center gap-2 mt-4",children:G.map((e,s)=>r.jsx("button",{className:`w-2 h-2 rounded-full transition-colors ${s===D?"bg-blue-500":"bg-gray-600"}`,onClick:()=>R(s)},s))})]}),(0,r.jsxs)(n.Zb,{className:"p-6 bg-gray-800/50 border-gray-700",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[r.jsx(k.Z,{className:"w-5 h-5 mr-2"}),"Overall Analysis"]}),(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:`text-4xl font-bold mb-2 bg-gradient-to-r bg-clip-text text-transparent ${Y>=85?"from-green-400 to-green-500":Y>=75?"from-green-300 to-green-400":Y>=65?"from-yellow-400 to-yellow-500":Y>=55?"from-orange-400 to-orange-500":"from-red-400 to-red-500"}`,children:Y}),r.jsx("p",{className:"text-gray-300",children:"Overall Score"}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-4",children:r.jsx(i.E.div,{className:`h-2 rounded-full transition-all duration-500 bg-gradient-to-r ${Y>=85?"from-green-400 to-green-500":Y>=75?"from-green-300 to-green-400":Y>=65?"from-yellow-400 to-yellow-500":Y>=55?"from-orange-400 to-orange-500":"from-red-400 to-red-500"}`,initial:{width:0},animate:{width:`${Y}%`},transition:{duration:1.5,delay:.5}})})]})]})]}),(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsxs)(n.Zb,{className:"p-4 bg-gray-800/50 border-gray-700",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-4",children:[r.jsx("span",{className:"text-sm text-gray-300",children:"Show:"}),r.jsx("button",{onClick:()=>Z(!1),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${L?"bg-gray-700 text-gray-300 hover:bg-gray-600":"bg-blue-600 text-white"}`,children:"Recommended to Address First"}),r.jsx("button",{onClick:()=>Z(!0),className:`px-3 py-1 rounded-full text-sm font-medium transition-colors ${L?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"All Concerns"})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-400",children:[ee.length," issues shown"]})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,r.jsxs)("button",{onClick:()=>C("all"),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${"all"===S?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:["All Areas (",ee.length,")"]}),X.map(e=>{let s=Q[e];return r.jsx("button",{onClick:()=>C(e),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${S===e?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-bold text-white",children:e}),r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-bold text-white ${s>=85?"bg-gradient-to-r from-green-500 to-green-600":s>=75?"bg-gradient-to-r from-green-400 to-green-500":s>=65?"bg-gradient-to-r from-yellow-500 to-yellow-600":s>=55?"bg-gradient-to-r from-orange-500 to-orange-600":"bg-gradient-to-r from-red-500 to-red-600"}`,children:s})]})},e)})]})]}),r.jsx("div",{className:"space-y-6 h-[calc(100vh-400px)] overflow-y-auto pr-2",children:(()=>{let e=ee.reduce((e,s)=>(e[s.area]||(e[s.area]=[]),e[s.area].push(s),e),{});return Object.entries(e).map(([e,s],t)=>r.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*t},children:(0,r.jsxs)(n.Zb,{className:"p-6 bg-gray-800/50 border-gray-700",children:[(0,r.jsxs)("h3",{className:"text-xl font-semibold text-white mb-4 flex items-center",children:[r.jsx("span",{className:"mr-2",children:e}),r.jsx("span",{className:`text-sm px-2 py-1 rounded-full ${(0,g.qt)(Q[e])} ${(0,g.Uz)(Q[e])}`,children:Q[e]})]}),r.jsx("div",{className:"space-y-4",children:s.map((e,s)=>{let t=K(e.confidence);return r.jsx(i.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*s},className:"p-6 bg-gradient-to-r from-blue-900/30 to-cyan-900/30 border-blue-700/50 hover:border-blue-600/70 transition-all duration-300 backdrop-blur-sm hover:shadow-xl hover:shadow-blue-500/20 group rounded-lg",children:(0,r.jsxs)("div",{className:"flex items-start gap-6",children:[r.jsx("div",{className:"w-1/2",children:r.jsx("div",{className:"relative h-64",children:r.jsx("img",{src:W(e.name,e.area),alt:`${e.name} example`,className:"w-full h-full object-contain rounded-2xl border border-gray-600/50",onError:e=>{let s=e.target;s.src=(0,u._O)()}})})}),(0,r.jsxs)("div",{className:"w-1/2 h-64 flex flex-col justify-between",children:[(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("div",{className:"flex items-start justify-between mb-2",children:r.jsx("h4",{className:"text-lg font-semibold text-white mb-1 line-clamp-2",children:e.name})}),r.jsx("p",{className:"text-gray-300 text-sm line-clamp-3",children:e.description})]}),r.jsx("div",{className:"flex items-center space-x-3 mb-3",children:(0,r.jsxs)("div",{className:`text-2xl font-bold bg-gradient-to-r bg-clip-text text-transparent ${t>=95?"from-green-500 to-emerald-500":t>=85?"from-green-400 to-green-500":t>=75?"from-lime-400 to-green-400":t>=65?"from-yellow-400 to-lime-400":t>=55?"from-orange-400 to-yellow-400":t>=45?"from-red-400 to-orange-400":"from-red-500 to-red-400"}`,children:[t,"%"]})}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mb-1",children:[r.jsx("span",{children:"Significant"}),r.jsx("span",{children:"Subtle"})]}),r.jsx("div",{className:"relative h-2 bg-gray-700 rounded-full overflow-hidden",children:r.jsx(i.E.div,{className:`absolute inset-0 bg-gradient-to-r ${t>=95?"from-green-500 to-emerald-500":t>=85?"from-green-400 to-green-500":t>=75?"from-lime-400 to-green-400":t>=65?"from-yellow-400 to-lime-400":t>=55?"from-orange-400 to-yellow-400":t>=45?"from-red-400 to-orange-400":"from-red-500 to-red-400"} rounded-full`,initial:{width:0},animate:{width:`${t}%`},transition:{duration:1.5,delay:.5}})})]}),r.jsx("div",{className:"mb-3",children:r.jsx("div",{className:"p-3 bg-gradient-to-r from-blue-500/10 to-green-500/10 border border-blue-500/20 rounded-lg",children:(0,r.jsxs)("p",{className:"text-sm text-gray-300",children:[r.jsx("span",{className:"font-semibold text-blue-400",children:"Common Causes:"})," ",e.causes?e.causes.join(", "):"Age-related changes, sun exposure, genetics, lifestyle factors"]})})})]})]})},e.name)})})]})},e))})()})]})]})]}),A&&r.jsx(h,{response:d,error:c,onClose:()=>P(!1)})]})}var S=t(1018);function C(){let e=(0,S.useRouter)(),[s,t]=(0,a.useState)(null),[l,i]=(0,a.useState)(null),[n,o]=(0,a.useState)(null);(0,a.useEffect)(()=>{let s=localStorage.getItem("analysisResult");if(s)try{t(JSON.parse(s))}catch(s){console.error("Error parsing analysis result:",s),e.push("/provider/upload")}else e.push("/provider/upload");(()=>{let e=localStorage.getItem("frontPhoto"),s=localStorage.getItem("sidePhoto");if(e)try{let s=e.split(",")[1],t=atob(s),r=Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);let a=new Uint8Array(r),l=new File([a],"front-photo.jpg",{type:"image/jpeg"});i(l)}catch(e){console.error("Error loading front photo:",e)}if(s)try{let e=s.split(",")[1],t=atob(e),r=Array(t.length);for(let e=0;e<t.length;e++)r[e]=t.charCodeAt(e);let a=new Uint8Array(r),l=new File([a],"side-photo.jpg",{type:"image/jpeg"});o(l)}catch(e){console.error("Error loading side photo:",e)}})()},[e]);let d=async(e,s)=>{console.log("Saving draft for patient:",e,s),await new Promise(e=>setTimeout(e,1e3)),alert(`Draft saved successfully for ${e}!`)};return s?r.jsx(E,{analysis:s.analysis,frontPhoto:l,sidePhoto:n,rawModalResponse:s.rawResponse,modalError:s.error,onBack:()=>{e.push("/provider")},onViewDetails:e=>{console.log("View details for area:",e)},onSaveDraft:d}):r.jsx("div",{className:"flex items-center justify-center h-screen",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-600",children:"Loading results..."})]})})}},8711:(e,s,t)=>{"use strict";t.d(s,{z:()=>d});var r=t(3854),a=t(4218),l=t(8225),i=t(2457),n=t(8504);let o=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-full text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-white text-black hover:bg-gray-100 hover:scale-105 shadow-lg",primary:"bg-blue-600 text-white hover:bg-blue-700 hover:scale-105 shadow-lg",secondary:"bg-gray-800 text-white hover:bg-gray-700 hover:scale-105",ghost:"hover:bg-gray-100 hover:text-gray-900",destructive:"bg-red-600 text-white hover:bg-red-700"},size:{default:"h-12 px-8 py-3",sm:"h-9 rounded-md px-3",lg:"h-14 rounded-full px-10 text-base",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef(({className:e,variant:s,size:t,asChild:a=!1,...i},d)=>{let c=a?l.g7:"button";return r.jsx(c,{className:(0,n.cn)(o({variant:s,size:t,className:e})),ref:d,...i})});d.displayName="Button"},6817:(e,s,t)=>{"use strict";t.d(s,{Zb:()=>i});var r=t(3854),a=t(4218),l=t(8504);let i=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,l.cn)("rounded-2xl border border-gray-800 bg-gray-900/50 backdrop-blur-sm text-white shadow-xl",e),...s}));i.displayName="Card";let n=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",e),...s}));n.displayName="CardHeader";let o=a.forwardRef(({className:e,...s},t)=>r.jsx("h3",{ref:t,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));o.displayName="CardTitle";let d=a.forwardRef(({className:e,...s},t)=>r.jsx("p",{ref:t,className:(0,l.cn)("text-sm text-gray-400",e),...s}));d.displayName="CardDescription";let c=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,l.cn)("p-6 pt-0",e),...s}));c.displayName="CardContent";let m=a.forwardRef(({className:e,...s},t)=>r.jsx("div",{ref:t,className:(0,l.cn)("flex items-center p-6 pt-0",e),...s}));m.displayName="CardFooter"},5463:(e,s,t)=>{"use strict";t.d(s,{_O:()=>a,aW:()=>r});let r=e=>{let s=e.replace(/[^a-zA-Z0-9\s-]/g,"").replace(/\s+/g," ").trim(),t=encodeURIComponent(`Finding=${s}.png`);return`/Images/Findings/${t}`},a=()=>"/Images/Findings/Finding=General.png"},8640:(e,s,t)=>{"use strict";t.d(s,{Kn:()=>i,R$:()=>n,Uz:()=>o,hv:()=>l,qt:()=>d,wR:()=>a});let r={"Forehead Wrinkles":"Skin","Crow's Feet Wrinkles":"Skin","Glabella Wrinkles":"Skin","Under Eye Wrinkles":"Skin","Perioral Wrinkles":"Skin","Bunny Lines":"Skin","Neck Lines":"Skin","Dark Spots":"Skin","Red Spots":"Skin",Scars:"Skin","Dry Skin":"Skin",Whiteheads:"Skin",Blackheads:"Skin","Under Eye Dark Circles":"Eyes","Crepey Skin":"Skin","Rosacea [DEPRECATED]":"Skin","Nasolabial Folds":"Skin","Marionette Lines":"Skin","Temporal Hollow":"Forehead","Brow Asymmetry":"Forehead","Flat Forehead":"Forehead","Brow Ptosis":"Forehead","Excess Upper Eyelid Skin":"Eyes","Lower Eyelid - Excess Skin":"Eyes","Upper Eyelid Droop":"Eyes","Lower Eyelid Sag":"Eyes","Lower Eyelid Bags":"Eyes","Under Eye Hollow":"Eyes","Upper Eye Hollow":"Eyes","Mid Cheek Flattening":"Cheeks","Cheekbone - Not Prominent":"Cheeks","Heavy Lateral Cheek":"Cheeks","Crooked Nose":"Nose","Droopy Tip":"Nose","Dorsal Hump":"Nose","Tip Droop When Smiling":"Nose","Thin Lips":"Lips","Lacking Philtral Column":"Lips","Long Philtral Column":"Lips","Gummy Smile":"Lips","Asymmetric Lips":"Lips","Dry Lips":"Lips","Lip Thinning When Smiling":"Lips","Retruded Chin":"Jawline","Over-Projected Chin":"Jawline","Asymmetric Chin":"Jawline",Jowls:"Jawline","Lower Cheeks - Volume Depletion":"Jawline","Ill-Defined Jawline":"Jawline","Asymmetric Jawline":"Jawline","Masseter Hypertrophy":"Jawline","Prejowl Sulcus":"Jawline","Loose Neck Skin":"Jawline","Platysmal Bands":"Jawline","Excess/Submental Fullness":"Jawline","Over-Projected":"Nose","Over-Rotated":"Nose","Under-Projected":"Nose","Under-Rotated":"Nose","Nasal Bone - Too Wide":"Nose","Nasal Tip Too Wide":"Nose","Nasal Tip Too Narrow":"Nose","Nostril Base - Too Wide":"Nose","Negative Canthal Tilt":"Eyes","Wide Chin":"Jawline","Wide Jawline":"Jawline","Narrow Jawline":"Jawline",Oily:"Skin","Acne [DEPRECATED]":"Skin","Alar Hang [DEPRECATED]":"Nose","Alar Retraction [DEPRECATED]":"Nose","Asymmetric Nostril Base [DEPRECATED]":"Nose","Cheilosis [DEPRECATED]":"Lips","Columellar Hang [DEPRECATED]":"Nose","Columellar Retraction [DEPRECATED]":"Nose","Deep Labiomental Groove [DEPRECATED]":"Lips","Deep Radix [DEPRECATED]":"Nose","Shallow Labiomental Groove [DEPRECATED]":"Lips","Shallow Radix [DEPRECATED]":"Nose","Obtuse Cervicomental Angle [DEPRECATED]":"Jawline"};function a(e){return r[e]||"Other"}function l(){let e=new Set(Object.values(r));return Array.from(e).sort()}function i(e){return Math.round(95-35*Math.max(0,Math.min(1,e)))}function n(e){return e>=90?"A":e>=80?"B":e>=70?"C":e>=60?"D":"F"}function o(e){return e>=90?"text-green-400":e>=80?"text-blue-400":e>=70?"text-yellow-400":e>=60?"text-orange-400":"text-red-400"}function d(e){return e>=90?"bg-green-400/20":e>=80?"bg-blue-400/20":e>=70?"bg-yellow-400/20":e>=60?"bg-orange-400/20":"bg-red-400/20"}},339:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>o});var r=t(5153);let a=(0,r.createProxy)(String.raw`/Users/sambrause/Downloads/aesthetics-ai-demo REVERTED/src/app/provider/results/page.tsx`),{__esModule:l,$$typeof:i}=a,n=a.default,o=n},3881:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(8531);let a=e=>{let s=(0,r.fillMetadataSegment)(".",e.params,"favicon.ico");return[{type:"image/x-icon",sizes:"16x16",url:s+""}]}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[271,10,323,942,969],()=>t(3426));module.exports=r})();